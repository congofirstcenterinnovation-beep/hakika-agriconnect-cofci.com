<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hakika Agriconnect</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins;}

body{
background:#f1f8e9;
color:#1b5e20;
}

/* HEADER */
header{
background:#2e7d32;
color:white;
padding:10px;
display:flex;
justify-content:space-between;
align-items:center;
position:sticky;
top:0;
z-index:1000;
}

.small-btn{
padding:6px 8px;
font-size:0.75rem;
border:none;
border-radius:6px;
background:#43a047;
color:white;
}

/* NAV */
nav{
background:white;
display:flex;
overflow-x:auto;
gap:10px;
padding:6px;
}

nav a{
font-size:0.8rem;
text-decoration:none;
color:#2e7d32;
font-weight:600;
}

/* SECTIONS */
section{
padding:60px 12px;
min-height:100vh;
text-align:center;
background-size:cover;
background-position:center;
}

/* CARD */
.card{
background:white;
padding:12px;
border-radius:12px;
margin-top:10px;
box-shadow:0 2px 6px rgba(0,0,0,0.1);
}

button,input,select{
width:100%;
padding:8px;
margin-top:8px;
border-radius:7px;
border:1px solid #ccc;
font-size:0.85rem;
}

button{
background:#2e7d32;
color:white;
}

/* GRID */
#products{
display:grid;
gap:12px;
}

/* POPUP */
.popup{
position:fixed;
top:15%;
left:50%;
transform:translateX(-50%);
width:90%;
max-width:350px;
background:white;
padding:15px;
border-radius:12px;
box-shadow:0 5px 15px rgba(0,0,0,0.3);
display:none;
z-index:2000;
}

.hide{display:none;}

img{
width:100%;
border-radius:12px;
margin-top:8px;
}

</style>
</head>

<body>

<header>
<h3>Hakika Agriconnect</h3>
<button class="small-btn" onclick="toggleLogin()">Connexion</button>
</header>

<nav>
<a href="#home">Accueil</a>
<a href="#market">Marketplace</a>
<a href="#meteo">M√©t√©o</a>
<a href="#geo">Localisation</a>
<a href="#faq">FAQ</a>
<a href="#about">Qui sommes-nous</a>
<a href="#contact">Contact</a>
</nav>

<!-- HOME -->
<section id="home" style="background-image:url('https://images.unsplash.com/photo-1605000797499-95a51c5269ae');">

<h2>Plateforme agricole intelligente</h2>

<div class="card">

Hakika Agriconnect est une plateforme num√©rique innovante d√©velopp√©e par COFCI (Congo First Center Innovation) qui vise √† connecter les agriculteurs, les consommateurs, et les partenaires √† travers un √©cosyst√®me int√©gr√©.

</div>

</section>

<!-- MARKETPLACE -->
<section id="market" style="background-image:url('https://images.unsplash.com/photo-1464226184884-fa280b87c399');">

<h2>Marketplace Agricole</h2>

<button class="small-btn" onclick="toggleMarket()">Publier produit</button>

<div id="marketForm" class="card hide">

<input id="prodName" placeholder="Nom produit">
<input id="prodPrice" placeholder="Prix">
<input type="file" id="prodImg">

<button onclick="addProduct()">Publier</button>

</div>

<div id="products"></div>

</section>

<!-- METEO -->
<section id="meteo" style="background-image:url('https://images.unsplash.com/photo-1500382017468-9049fed747ef');">

<h2>M√©t√©o agricole</h2>

<div class="card" id="meteoCard">Chargement...</div>

</section>

<!-- GEO -->
<section id="geo">

<h2>Localiser votre champ</h2>

<button class="small-btn" onclick="geo()">Localiser</button>

<p id="geoResult"></p>
<div id="map"></div>

</section>

<!-- FAQ -->
<section id="faq">

<h2>FAQ</h2>

<div class="card">
<b>Comment vendre ?</b><br>
Publiez votre produit via marketplace.
</div>

<div class="card">
<b>Comment acheter ?</b><br>
Cliquez sur acheter puis contactez vendeur.
</div>

</section>

<!-- ABOUT -->
<section id="about">

<h2>Qui sommes-nous</h2>

<div class="card">

Notre mission est de faciliter la connexion entre les agriculteurs, les consommateurs et les partenaires du secteur agricole, en offrant une plateforme num√©rique innovante permettant un acc√®s simplifi√© au march√©, des informations pr√©cises et un soutien aux bonnes pratiques agricoles.

</div>

</section>

<!-- CONTACT -->
<section id="contact">

<h2>Contact</h2>

<div class="card">
üìß contact@hakika.cd<br>
üìç Goma RDC
</div>

</section>

<!-- LOGIN -->
<div class="popup" id="loginPopup">

<h3>Connexion</h3>
<input placeholder="Email">
<input placeholder="Mot de passe">
<button>Connexion</button>

<h4>Cr√©er compte</h4>
<input placeholder="Nom">
<input placeholder="T√©l√©phone">
<input placeholder="Email">
<input placeholder="Mot de passe">
<button>Cr√©er</button>

<button onclick="toggleLogin()">Fermer</button>

</div>

<script>

/* LOGIN */
function toggleLogin(){
let pop=document.getElementById("loginPopup");
pop.style.display=pop.style.display==="block"?"none":"block";
}

/* MARKET */
function toggleMarket(){
document.getElementById("marketForm").classList.toggle("hide");
}

function addProduct(){

let name=document.getElementById("prodName").value;
let price=document.getElementById("prodPrice").value;
let file=document.getElementById("prodImg").files[0];

if(!file) return alert("Image requise");

let reader=new FileReader();

reader.onload=function(e){

let products=JSON.parse(localStorage.getItem("products")||"[]");

products.push({
name,
price,
img:e.target.result,
link:window.location.href+"#product-"+Date.now()
});

localStorage.setItem("products",JSON.stringify(products));

renderProducts();
};

reader.readAsDataURL(file);
}

function renderProducts(){

let grid=document.getElementById("products");
grid.innerHTML="";

let products=JSON.parse(localStorage.getItem("products")||"[]");

products.forEach((p,i)=>{

grid.innerHTML+=`
<div class="card">

<h3>${p.name}</h3>
<img src="${p.img}">
<p>${p.price}</p>

<button onclick="shareProduct('${p.name}')">Partager</button>
<button>Acheter</button>

</div>`;
});
}

renderProducts();

/* PARTAGE */
function shareProduct(name){

if(navigator.share){

navigator.share({
title:name,
text:"Produit disponible sur Hakika Agriconnect",
url:window.location.href
});

}else{
alert("Partage non support√©");
}

}

/* GEO */
function geo(){

navigator.geolocation.getCurrentPosition(pos=>{

let lat=pos.coords.latitude;
let lon=pos.coords.longitude;

document.getElementById("geoResult").innerText=
"Latitude:"+lat+" Longitude:"+lon;

document.getElementById("map").innerHTML=
`<iframe width="100%" height="200"
src="https://maps.google.com/maps?q=${lat},${lon}&z=15&output=embed"></iframe>`;

fetchWeather(lat,lon);

});

}

/* METEO */
async function fetchWeather(lat,lon){

try{
let res=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`);

let data=await res.json();

document.getElementById("meteoCard").innerHTML=
`üå° ${data.current_weather.temperature}¬∞C<br>
üí® Vent ${data.current_weather.windspeed} km/h`;

}catch{
document.getElementById("meteoCard").innerText="Erreur m√©t√©o";
}

}

/* AUTO METEO */
geo();

</script>

</body>
</html>
